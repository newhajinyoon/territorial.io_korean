R=!1;for(Q=F.length-1;0<=Q;Q--)F[Q].id!==H||M!==b8&&F[Q].player!==M||(F.splice(Q,1),R=!0);return R}var F,G,N,I,D,K,J,L;this.bp=function(){J=0;K=q?7:12;g=[0,0,0];k=[0,0,0];n=[220,180,180];l=[0,0,0];x=[0,0,0];t=["이(가) 점령당했습니다.","이(가) 게임에서 떠났습니다.","이(가) 항복했습니다."];z=["이(가) 이 나라에 의해 점령당했습니다 : ","이(가) 게임에서 떠났습니다.","이(가) 항복했습니다."];F=[];this.lx();fc&&this.fl(0,18);var H="맵: "+jm.nF()+"   픽셀: "+eP.gJ(jQ.nG)+"   땅: "+eP.gJ(jQ.nH)+" ("+eB.nI(100*jQ.nH/jQ.nG,1)+")",M="";0<jQ.nK&&(M+="물: "+eP.gJ(jQ.nK)+

" ("+eB.nI(100*jQ.nK/jQ.nG,1)+")");0<jQ.nL&&(M+=0<jQ.nK?"   ":"",M+="산: "+eP.gJ(jQ.nL)+" ("+eB.nI(100*jQ.nL/jQ.nG,1)+")");A(340,H,6,0,C(215,245,255),hy,-1,!1);0<M.length&&A(340,M,6,0,C(215,245,255),hy,-1,!1);10===dv&&A(120,"플레이어를 향한 군사력 총동원은 금지되었습니다.",6,0,C(235,255,120),hy,-1,!1);this.mR()};this.mR=function(){var H;if(dr.ds){var M=dr.dt.mS.length;for(H=0;H<M;H++)A(400,dr.dt.mS[H],6,0,C(255,255,255),hy,-1,!1)}};this.lx=function(){var H;G=Math.floor((q?.031:.0249)*bq);G=

10>G?10:G;this.by=Math.floor(2*G/3);this.c0=bt+this.by+bu;N=m7;I=Math.floor(G/5);if(0<F.length){var M=F;F=[];for(H=M.length-1;0<=H;H--)A(M[H].gc,M[H].l,M[H].id,M[H].player,M[H].mW,M[H].mX,M[H].mY,M[H].mZ)}this.ma()};this.ma=function(){L=document.createElement("canvas");D=c2.measureText("수락",this.c0)+5*I;L.height=G;L.width=D;var H=L.getContext("2d",{alpha:!0});H.font=this.c0;H.textBaseline=cI;H.textAlign=cJ;H.clearRect(0,0,D,G);H.fillStyle=mb;H.fillRect(0,0,D,G);H.fillStyle=cK;H.fillText("Accept",

Math.floor(D/2),Math.floor(G/2))};this.mc=function(){if(eS.lE)return eS.c1;var H=F.length;return 0===H?0:1===H?F[0].md:me(F[0].md,F[1].md)};this.c7=function(H,M){for(var Q=y(),R,P=F.length-1;0<=P;P--)if(R=Q-(P+1)*G,M>=R&&M<R+G){if(50===F[P].id){if(H>=gE-D-N-F[P].c1)return H>=gE-D-N?(P=F[P].player,this.la(P,0),ir.lb(P)):eV.gg(F[P].player,800,!1,0),!0;break}if(H>=gE-F[P].c1-N)return F[P].mZ&&(eV.gg(F[P].player,800,!1,0),0<=F[P].mY&&(Q=F[P].mY,F[P].mY=F[P].player,F[P].player=Q)),!0;break}return!1};this.j3=

function(H){for(var M=F.length-1;0<=M;M--)F[M].id===H&&(F[M].gc=1)};this.fl=function(H,M){0===M?(b0.b1[H<cq?4:3]++,c2.cQ(H,0),A(q?100:160,"당신은 "+gI[H]+"을(를) 점령했습니다.",0,H,"rgb(10,220,10)",hy,-1,!1)):1===M?(E(50,b8),c2.cQ(H,1),A(360,"당신은 "+gI[H]+"에 의해 점령당헀습니다.",0,H,"rgb(255,40,40)",hy,-1,!0),eV.gg(H,2700,!0,0)):2===M?(c2.cQ(H,2),A(0,"축하합니다! 게임에서 승리하셨습니다",0,H,"rgb(10,255,255)",hy,-1,!0),eV.gg(H,2700,!0,0)):3===M?(c2.cQ(H,2),A(0,gI[H]+" 이(가) 게임에서 이겼습니다.",0,H,cK,hy,-1,!0),eV.gg(H,2700,

!0,0)):4===M?(ix--,iw--,this.ml(1,H,H)):5===M?2!==fT[H]&&hu.lG(aw)&&(B(1,5),eA.mn(H)?A(180,gI[H]+" 이(가) 불가침 조약을 어기고 당신의 나라를 침공합니다!",1,H,C(255,200,180),hy,-1,!0):A(180,gI[H]+" 이(가) 당신을 공격합니다!",1,H,"rgb(255,70,10)",hy,-1,!0)):18===M?A(255,"당신의 시작지점을 선택하세요!",18,0,cK,hy,-1,!1):21===M?A(220,"당신은 항복했습니다!",M,0,"rgb(255,40,40)",hy,-1,!1):22===M&&this.ml(2,H,H)};this.mo=function(H){A(200,"에러 ["+H+"]",94,0,cK,mq,-1,!1)};this.iq=function(H){c2.cQ(H,2);100>cq?A(0,gI[H]+

" 이(가) 게임에서 이겼습니다.",3,H,cK,hy,-1,!0):A(0,gI[H]+" has been immortalized!",3,H,cK,hy,-1,!0);eV.gg(H,2700,!0,0)};this.mr=function(H,M,Q){H===aw?A(175," "+gI[M]+"에게 보내는 메세지 : ",1E3+Q,M,C(200,255,210),hy,-1,!0):this.mu(H,Q)};this.mu=function(H,M){var Q,R=0;A(175,gI[H]+": ",1E3+M,H,cK,"rgba(5,60,25,0.9)",-1,!0);for(Q=0;Q<F.length;Q++)if(1E3<=F[Q].id&&F[Q].player===H&&(R++,3<R)){F.splice(Q,1);break}};this.ip=function(H){var M=dW.im[eT.my()];H?(9===dv?(H="저항군이 바이러스를 섬멸했습니다.",c2.mz("저항군",

2,1,12)):H="축하합니다! 팀 "+dW.bo[M]+" 이 게임에서 승리했습니다!",A(0,H,40,0,"rgb(10,220,10)",hy,-1,!1)):(9===dv?(H="인류가 바이러스에게 잠식당했습니다.",c2.mz("바이러스",2,0,16)):H="우리의 동맹국들은 무너졌습니다!",A(0,H,41,0,"rgb(200,80,80)",hy,-1,!1));9!==dv&&c2.mz("팀 "+dW.bo[M],2,1,12);eV.gp(2700)};this.i9=function(H){A(300,H[0].name+" ["+ij.iF(H[0].iC)+"] vs "+H[1].name+" ["+ij.iF(H[1].iC)+"]",65,0,gH,"rgba(100,255,255,0.75)",-1,!1)};this.n0=function(H){A(200,H,0,0,"rgb(40,255,200)",

"rgba(10,60,40,0.9)",-1,!1)};this.iH=function(H,M,Q,R){1===eD.n2()&&(A(0,H[0].name+": "+ij.iF(H[0].iC)+" -> "+M,66,0,cK,R[0],-1,!1),A(0,H[1].name+": "+ij.iF(H[1].iC)+" -> "+Q,66,1,cK,R[1],-1,!1))};this.io=function(H){1===eD.n2()&&A(0,"["+H+"] 이(가) "+cq+(jE?" x 2":"")+" 포인트를 얻었습니다!",45,0,"rgb(225,240,255)",hy,-1,!1)};this.la=function(H,M){0===M?E(50,H)?(A(128,"당신은 "+gI[H]+"와(과) 함께 불가침 조약에 서명했습니다.",52,H,C(180,255,180),hy,-1,!0),eA.n4(H,2,255)):A(384,"당신은 "+gI[H]+" 에게 불가침 조약에 서명해달라고 요청했습니다.",

51,H,C(210,210,255),hy,-1,!0):E(51,H)?(A(128,gI[H]+" 이(가) 불가침 조약에 서명했습니다.",52,H,cK,"rgba(60,120,10,0.9)",-1,!0),eA.n4(H,2,255)):(A(384,gI[H]+" 이(가) 불가침 조약에 서명해달라고 요청합니다.",50,H,cK,"rgba(90,90,90,0.9)",-1,!0),eA.n4(H,2,96))};this.lR=function(H,M){var Q="You ",R;a:{for(R=H.length-1;0<=R;R--)if(2*bU[H[R]]>bU[aw]){R=!1;break a}R=!0}R?(Q+="ordered ",R=C(255,235,210)):(Q+="asked ",R=C(210,255,210));1<H.length?A(230,Q+H.length+" players to attack "+gI[M]+".",66,M,R,hy,-1,!0):A(230,Q+gI[H[0]]+

" to attack "+gI[M]+".",66,H[0],R,hy,M,!0)};this.n7=function(H,M){bU[H]>2*bU[aw]?A(230,gI[H]+" orders you to attack "+gI[M]+"!",66,H,cK,"rgba(90,50,5,0.9)",M,!0):A(230,gI[H]+" asks you to attack "+gI[M]+".",66,H,cK,"rgba(75,65,5,0.9)",M,!0)};this.n9=function(H,M){E(H,M)};this.lU=function(){100<=ax[aw]||A(80,"군사력이 너무 낮습니다!",9,0,cK,hy,-1,!1)};this.lT=function(){A(80,"1분동안 부스트가 금지되었습니다.",9,0,cK,hy,-1,!1)};this.nA=function(H,M){2!==fT[aw]&&A(200,"You exported "+eP.gJ(H)+

" resource"+(1===H?"":"s")+" to "+gI[M]+".",30,M,"rgb(190,255,190)",hy,-1,!0)};this.nC=function(H,M){if(2!==fT[aw]){var Q=2===fT[M]||M>=cq;var R=200-20*F.length;A(80>R?80:R,(Q?"A bot":gI[M])+" supported you with "+eP.gJ(H)+" resource"+(1===H?"":"s")+".",31,M,gH,Q?"rgba(205,205,205,0.9)":"rgba(205,255,205,0.9)",-1,!0);B(31,q?4:6)}};this.iy=function(H){var M,Q=c4.dU();for(M=2;0<=M;M--)0<l[M]&&(H||x[M]<Q-220)&&this.nN(M)};this.nN=function(H){var M=l[H];var Q=g[H];l[H]=0;1===M?(M=gI[Q]+z[H],0===H&&(M+=

gI[k[H]]+"."),A(n[H],M,7,k[H],cK,hy,-1,!0)):2<=M&&(M=gI[Q]+" and "+(M-1)+" other player"+(2===M?"":"s")+t[H],A(n[H],M,7,Q,cK,hy,-1,!1))};this.ml=function(H,M,Q){var R=c4.dU(),P=l[H]+1;l[H]++;g[H]=M;k[H]=Q;1===P&&(x[H]=R);1===P&&(32>ix||2===fZ)?this.nN(H):1<P&&(x[H]<R-140||2===fZ)&&this.nN(H)};this.dF=function(){var H,M=F.length-K;M=1>=M?1:M*M;for(H=F.length-1;0<=H;H--)0<F[H].gc&&(F[H].gc-=M,0>=F[H].gc&&F.splice(H,1));if(128!==J&&(J++,!(128>J)))for(H=5,M=dY-1;0<=M;M--)1===fT[dZ[M]]&&0<H--&&A(240,gI[dZ[M]]+

" joined the game.",1,dZ[M],gH,"rgba(255,255,255,0.75)",-1,!0);this.iy(!1)};this.cG=function(){for(var H=y(),M,Q=F.length-1;0<=Q;Q--)M=H-(Q+1)*G,50===F[Q].id?(cH.drawImage(F[Q].ls,gE-F[Q].c1-D-N,M),cH.drawImage(L,gE-D-N,M)):cH.drawImage(F[Q].ls,gE-F[Q].c1-N,M)}}











R=!1;for(Q=E.length-1;0<=Q;Q--)E[Q].id!==G||M!==b8&&E[Q].player!==M||(E.splice(Q,1),R=!0);return R}var E,H,J,K,D,L,I,N;this.bp=function(){I=0;L=q?7:12;g=[0,0,0];k=[0,0,0];x=[220,180,180];l=[0,0,0];t=[0,0,0];n=["이(가) 점령당했습니다.","이(가) 게임에서 떠났습니다.","이(가) 항복했습니다."];z=["이(가) 이 나라에 의해 점령당했습니다 : ","이(가) 게임에서 떠났습니다.","이(가) 항복했습니다."];E=[];this.lq();fY&&this.fh(0,18);var G="맵: "+jf.n6()+"   픽셀: "+eL.gF(jJ.n7)+"   땅: "+eL.gF(jJ.n8)+" ("+e7.n9(100*jJ.n8/jJ.n7,1)+")",M="";0<jJ.nB&&(M+="물: "+eL.gF(jJ.nB)+

" ("+e7.n9(100*jJ.nB/jJ.n7,1)+")");0<jJ.nC&&(M+=0<jJ.nB?"   ":"",M+="산: "+eL.gF(jJ.nC)+" ("+e7.n9(100*jJ.nC/jJ.n7,1)+")");A(340,G,6,0,C(215,245,255),hq,-1,!1);0<M.length&&A(340,M,6,0,C(215,245,255),hq,-1,!1);10===dr&&A(120,"플레이어를 향한 군사력 총동원은 금지되었습니다.",6,0,C(235,255,120),hq,-1,!1)};this.lq=function(){var G;H=Math.floor((q?.031:.0249)*bq);H=10>H?10:H;this.by=Math.floor(2*H/3);this.c0=bt+this.by+bu;J=m0;K=Math.floor(H/5);if(0<E.length){var M=E;E=[];for(G=M.length-1;0<=G;G--)A(M[G].gY,

M[G].l,M[G].id,M[G].player,M[G].mM,M[G].mN,M[G].mO,M[G].mP)}this.mQ()};this.mQ=function(){N=document.createElement("canvas");D=c2.measureText("수락",this.c0)+5*K;N.height=H;N.width=D;var G=N.getContext("2d",{alpha:!0});G.font=this.c0;G.textBaseline=cI;G.textAlign=cJ;G.clearRect(0,0,D,H);G.fillStyle=mR;G.fillRect(0,0,D,H);G.fillStyle=cK;G.fillText("수락",Math.floor(D/2),Math.floor(H/2))};this.mS=function(){if(eO.l7)return eO.c1;var G=E.length;return 0===G?0:1===G?E[0].mT:mU(E[0].mT,E[1].mT)};this.c7=

function(G,M){for(var Q=y(),R,P=E.length-1;0<=P;P--)if(R=Q-(P+1)*H,M>=R&&M<R+H){if(50===E[P].id){if(G>=gA-D-J-E[P].c1)return G>=gA-D-J?(P=E[P].player,this.lT(P,0),ii.lU(P)):eR.gc(E[P].player,800,!1,0),!0;break}if(G>=gA-E[P].c1-J)return E[P].mP&&(eR.gc(E[P].player,800,!1,0),0<=E[P].mO&&(Q=E[P].mO,E[P].mO=E[P].player,E[P].player=Q)),!0;break}return!1};this.iv=function(G){for(var M=E.length-1;0<=M;M--)E[M].id===G&&(E[M].gY=1)};this.fh=function(G,M){0===M?(b0.b1[G<cq?4:3]++,c2.cQ(G,0),A(q?100:160,"당신은 "+

gE[G]+"을(를) 점령했습니다.",0,G,"rgb(10,220,10)",hq,-1,!1)):1===M?(F(50,b8),c2.cQ(G,1),A(360,"당신은 "+gE[G]+"에게 점령당했습니다.",0,G,"rgb(255,40,40)",hq,-1,!0),eR.gc(G,2700,!0,0)):2===M?(c2.cQ(G,2),A(0,"축하합니다! 게임에서 승리하셨습니다",0,G,"rgb(10,255,255)",hq,-1,!0),eR.gc(G,2700,!0,0)):3===M?(c2.cQ(G,2),A(0,gE[G]+"이(가) 게임에서 승리하였습니다.",0,G,cK,hq,-1,!0),eR.gc(G,2700,!0,0)):4===M?(ip--,io--,this.mb(1,G,G)):5===M?2!==fP[G]&&hm.l9(aw)&&(B(1,5),e6.md(G)?A(180,gE[G]+"이(가) 불가침 조약을 어기고 당신의 나라를 침공합니다!",1,

G,C(255,200,180),hq,-1,!0):A(180,gE[G]+"이(가) 당신을 공격하고있습니다!",1,G,"rgb(255,70,10)",hq,-1,!0)):18===M?A(255,"당신의 시작지점을 선택하세요!",18,0,cK,hq,-1,!1):21===M?A(220,"당신은 항복했습니다!",M,0,"rgb(255,40,40)",hq,-1,!1):22===M&&this.mb(2,G,G)};this.mf=function(G){A(200,"Error ["+G+"]",94,0,cK,mh,-1,!1)};this.ih=function(G){c2.cQ(G,2);100>cq?A(0,gE[G]+"이(가) 게임에서 승리하였습니다.",3,G,cK,hq,-1,!0):A(0,gE[G]+" has been immortalized!",3,G,cK,hq,-1,!0);eR.gc(G,2700,!0,0)};this.mi=function(G,M,Q){G===aw?A(175," 메세지 | "+

gE[M]+"에게 : ",1E3+Q,M,C(200,255,210),hq,-1,!0):this.ml(G,Q)};this.ml=function(G,M){var Q,R=0;A(175,gE[G]+": ",1E3+M,G,cK,"rgba(5,60,25,0.9)",-1,!0);for(Q=0;Q<E.length;Q++)if(1E3<=E[Q].id&&E[Q].player===G&&(R++,3<R)){E.splice(Q,1);break}};this.ig=function(G){var M=dW.id[eP.mp()];G?(9===dr?(G="생존자가 바이러스를 종식시켰습니다.",c2.mq("생존자들",2,1,12)):G="축하합니다! 팀 "+dW.bo[M]+" 이 게임에서 승리하였습니다!",A(0,G,40,0,"rgb(10,220,10)",hq,-1,!1)):(9===dr?(G="인류는 바이러스에게 잠식당했습니다.",

c2.mq("바이러스",2,0,16)):G="우리의 동맹은 무너졌습니다!",A(0,G,41,0,"rgb(200,80,80)",hq,-1,!1));9!==dr&&c2.mq("팀 "+dW.bo[M],2,1,12);eR.gl(2700)};this.i1=function(G){A(300,G[0].name+" ["+ia.i7(G[0].i4)+"] vs "+G[1].name+" ["+ia.i7(G[1].i4)+"]",65,0,gD,"rgba(100,255,255,0.75)",-1,!1)};this.mr=function(G){A(200,G,0,0,"rgb(40,255,200)","rgba(10,60,40,0.9)",-1,!1)};this.i9=function(G,M,Q,R){1===e9.mt()&&(A(0,G[0].name+": "+ia.i7(G[0].i4)+" -> "+M,66,0,cK,R[0],-1,!1),A(0,G[1].name+": "+ia.i7(G[1].i4)+

" -> "+Q,66,1,cK,R[1],-1,!1))};this.ie=function(G){1===e9.mt()&&A(0,"["+G+"] has won "+cq+(j6?" x 2":"")+" 포인트를 얻었습니다!",45,0,"rgb(225,240,255)",hq,-1,!1)};this.lT=function(G,M){0===M?F(50,G)?(A(128,"당신은 "+gE[G]+"와(과) 함께 불가침 조약에 서명했습니다.",52,G,C(180,255,180),hq,-1,!0),e6.mv(G,2,255)):A(384,"당신은 "+gE[G]+" 에게 불가침 조약에 서명할것을 요청했습니다.",51,G,C(210,210,255),hq,-1,!0):F(51,G)?(A(128,gE[G]+"이(가) 불가침 조약을 수락했습니다.",52,G,cK,"rgba(60,120,10,0.9)",-1,!0),e6.mv(G,2,255)):(A(384,gE[G]+

"이(가) 불가침 조약을 맺자고 요청합니다.",50,G,cK,"rgba(90,90,90,0.9)",-1,!0),e6.mv(G,2,96))};this.lK=function(G,M){var Q="당신은 ",R;a:{for(R=G.length-1;0<=R;R--)if(2*bU[G[R]]>bU[aw]){R=!1;break a}R=!0}R?(Q+="",R=C(255,235,210)):(Q+="",R=C(210,255,210));1<G.length?A(230,Q+G.length+" 들에게 "+gE[M]+".",66,M,R,hq,-1,!0):A(230,Q+gE[G[0]]+" 에게 "+gE[M]+"을(를) 공격할것을 요청했습니다.",66,G[0],R,hq,M,!0)};this.my=function(G,M){bU[G]>2*bU[aw]?A(230,gE[G]+"이(가) "+gE[M]+"를 공격해달라고 요청합니다!",66,G,cK,"rgba(90,50,5,0.9)",

M,!0):A(230,gE[G]+"이(가) "+gE[M]+"를 공격해달라고 요청합니다.",66,G,cK,"rgba(75,65,5,0.9)",M,!0)};this.n0=function(G,M){F(G,M)};this.lN=function(){100<=ax[aw]||A(80,"군사력이 너무 낮습니다!",9,0,cK,hq,-1,!1)};this.lM=function(){A(80,"1분동안 부스트가 금지되었습니다.",9,0,cK,hq,-1,!1)};this.n1=function(G,M){2!==fP[aw]&&A(200,"당신은 "+eL.gF(G)+"군사력을"+(1===G?"":"s")+" "+gE[M]+"에게 지원했습니다.",30,M,"rgb(190,255,190)",hq,-1,!0)};this.n3=function(G,M){if(2!==fP[aw]){var Q=2===fP[M]||M>=cq;var R=200-20*

E.length;A(80>R?80:R,(Q?"봇":gE[M])+"이(가) 당신에게 "+eL.gF(G)+"군사력을 지원했습니다"+(1===G?"":"s")+".",31,M,gD,Q?"rgba(205,205,205,0.9)":"rgba(205,255,205,0.9)",-1,!0);B(31,q?4:6)}};this.iq=function(G){var M,Q=c4.dU();for(M=2;0<=M;M--)0<l[M]&&(G||t[M]<Q-220)&&this.nE(M)};this.nE=function(G){var M=l[G];var Q=g[G];l[G]=0;1===M?(M=gE[Q]+z[G],0===G&&(M+=gE[k[G]]+"."),A(x[G],M,7,k[G],cK,hq,-1,!0)):2<=M&&(M=gE[Q]+" 그리고 "+(M-1)+"명의 다른 플레이어"+(2===M?"":"들")+n[G],A(x[G],M,7,Q,cK,hq,-1,!1))};this.mb=function(G,

M,Q){var R=c4.dU(),P=l[G]+1;l[G]++;g[G]=M;k[G]=Q;1===P&&(t[G]=R);1===P&&(32>ip||2===fV)?this.nE(G):1<P&&(t[G]<R-140||2===fV)&&this.nE(G)};this.dF=function(){var G,M=E.length-L;M=1>=M?1:M*M;for(G=E.length-1;0<=G;G--)0<E[G].gY&&(E[G].gY-=M,0>=E[G].gY&&E.splice(G,1));if(128!==I&&(I++,!(128>I)))for(G=5,M=dY-1;0<=M;M--)1===fP[dZ[M]]&&0<G--&&A(240,gE[dZ[M]]+"이(가) 게임에 참여했습니다.",1,dZ[M],gD,"rgba(255,255,255,0.75)",-1,!0);this.iq(!1)};this.cG=function(){for(var G=y(),M,Q=E.length-1;0<=Q;Q--)M=G-(Q+1)*H,50===
